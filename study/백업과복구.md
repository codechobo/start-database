# 백업과 복구

### 백업의 3가지 관점

- 핫 백업과 콜드 백업
- 논리 백업과 물리 백업
- 풀 백업과 부분(증분/차등) 백업

### 핫 백업과 콜드 백업

- 백업 시 데이터베이스의 상태에 따라 구분한다.
- 백업의 대상 데이터베이스를 가동한채로 백업을 하면 핫 백업
    - 로그를 지정하거나 OS 또는 하드웨어의 스냅샷을 이용해 해당 시점의 스냅샷을 백업 데이터로 취득하는 방법이 있다.
- 정지한 채로 백업을 하면 콜드 백업
    - 데이터 저장 파일을 OS로 다루는 상태가 된다.

### 논리 백업과 물리 백업

- 형식에 따라 구분한다.
- SQL 기반의 텍스트 형식으로 기록되면 논리 백업
    - 이식성이 우수
    - 편집 가능
    - 크기가 크다는 단점이 존재
- 데이터 영역을 그대로 덤프(데이터 파일이나 화면에 출력)하는 이미지로 바이너리 형식으로 기록되면 물리 백업
    - 최소 크기와 복원 속도가 빠름
    - 복원 단위는 도구에 따라 다름
    - 일부 데이터의 교환이나 적용이 불가할 수 있음


### 풀 백업과 부분 백업

- 대상과 데이터의 양을 중심으로 구분한다.
- 전체 데이터를 매일 백업하는 방식을 풀 백업이라 한다.
- 우선 풀 백업을 한 후에 이후 갱신된 데이터를 백업한다.
    - 차등 백업
        - 최근에 풀 백업한 이후에 갱신된 데이터를 백업
    - 증분 백업
        - 최근 백업한 이후에 갱신된 데이터를 백업

### 데이터베이스 관리 시 주의점

- 백업 파일들은 떨어진 곳에 각각 보관해야 한다.
- 저장 장치를 지리적으로 떨어진 장소에 둔다면 물리적인 장애에 데이터를 지키는 것도 가능하다.
- 서버를 24시간 가동해야 한다면 핫 백업을 고려한다.
- 또는 대규모의 데이터베이스를 사용한다면 물리 백업을 고려한다.
- 시간을 정해 서버를 가동한다면 콜드 백업을 고려해본다.